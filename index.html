<!doctype html>
<html lang="ja" data-theme="auto">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ORA Hyperwave</title>
  <meta name="description" content="YoneRai12 が描く未来都市型ポートフォリオ ORA Hyperwave">
  <!-- Light/Dark 両対応宣言 -->
  <meta name="color-scheme" content="light dark">
  <!-- OSのテーマに連動する theme-color -->
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f5f5f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000000">

  <style>
    /* ---------------------------
       Design Tokens
       Apple/OpenAI系の最小主義に寄せた配色と余白
    --------------------------- */
    :root{
      color-scheme: light;
      --bg:        #f5f5f7;
      --bg-alt:    #ffffff;
      --surface-1: #ffffff;
      --surface-2: #fbfbfd;
      --fg:        #1d1d1f;
      --muted:     #6e6e73;
      --line:      #e5e5ea;
      --accent:    #0071e3;  /* iOSボタン系の青に近似 */
      --radius-xl: 28px;
      --radius-lg: 20px;
      --radius-md: 14px;
      --shadow-1:  0 20px 40px -28px rgba(0,0,0,.25);
      --shadow-2:  0 28px 56px -30px rgba(0,0,0,.32);
      --focus:     0 0 0 3px color-mix(in oklab, var(--accent) 40%, transparent);
      --container: 1180px;
      --gradient-hot: linear-gradient(180deg,#ffffff 0%,#f0f4ff 100%);
      --glass: rgba(245,245,247,.82);
      --chip-bg: #ffffff;
    }

    @media (prefers-color-scheme: dark){
      :root{
        color-scheme: dark;
        --bg:        #0a0a0a;
        --bg-alt:    #0f0f10;
        --surface-1: #141416;
        --surface-2: #1a1a1d;
        --fg:        #f5f5f7;
        --muted:     #a1a1a6;
        --line:      #2c2c2e;
        --accent:    #0a84ff;
        --shadow-1:  0 26px 52px -28px rgba(0,0,0,.65);
        --shadow-2:  0 36px 72px -34px rgba(0,0,0,.75);
        --gradient-hot: linear-gradient(180deg,#1d1e22 0%,#15161a 100%);
        --glass: rgba(16,16,18,.7);
        --chip-bg: #1a1a1d;
      }
    }

    /* 手動トグルの強制上書き */
    :root[data-theme="light"]{
      color-scheme: light;
    }
    :root[data-theme="dark"]{
      color-scheme: dark;
    }

    /* ---------------------------
       Base
    --------------------------- */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"SF Pro Display","SF Pro Text",-apple-system,BlinkMacSystemFont,"Segoe UI",
                  "Hiragino Sans","Noto Sans JP","Yu Gothic",Meiryo,sans-serif;
      background:
        radial-gradient(1200px 600px at 10% -10%, color-mix(in oklab, var(--accent) 6%, transparent), transparent 60%),
        radial-gradient(900px 500px at 110% -20%, color-mix(in oklab, #7b61ff 6%, transparent), transparent 60%),
        var(--bg);
      color:var(--fg);
      -webkit-font-smoothing:antialiased;
      text-rendering:optimizeLegibility;
    }
    a{color:inherit;text-decoration:none}
    a:hover{text-decoration:underline; text-decoration-thickness: .08em; text-underline-offset: .22em}

    .wrap{max-width:var(--container);margin:0 auto;padding:16px clamp(16px,4vw,48px)}

    /* ---------------------------
       Header
    --------------------------- */
    header{
      position:sticky; top:0; z-index:50;
      backdrop-filter:saturate(180%) blur(20px);
      background:var(--glass);
      border-bottom:1px solid var(--line);
    }
    nav{display:flex;align-items:center;justify-content:space-between;gap:28px}
    .brand{display:flex;align-items:center;gap:12px;font-weight:700;letter-spacing:-0.01em;font-size:18px}
    .brand svg{width:32px;height:32px;flex:none}

    .links{display:flex;gap:18px;flex-wrap:wrap}
    .links a{font-size:14px;font-weight:600;color:var(--muted);padding:10px 0}
    .links a:hover{color:var(--fg);text-decoration:none}

    .actions{display:flex;align-items:center;gap:10px}
    .theme-toggle{
      display:inline-flex;align-items:center;gap:8px;
      border:1px solid var(--line); background:var(--surface-1); color:var(--fg);
      padding:10px 14px; border-radius:999px; font-size:13px; font-weight:700;
      box-shadow:var(--shadow-1); cursor:pointer; outline: none;
    }
    .theme-toggle:focus-visible{box-shadow:var(--focus)}
    .theme-toggle svg{width:18px;height:18px}

    /* ---------------------------
       Hero
    --------------------------- */
    main{display:grid;gap:5rem;padding-bottom:6rem}
    .hero{padding:clamp(4.5rem,12vw,7rem) clamp(16px,4vw,48px) 0;display:grid;gap:1.2rem;position:relative}
    .hero .hero-label{font-size:12px;letter-spacing:.24em;text-transform:uppercase;color:var(--muted);font-weight:700}
    .hero h1{margin:0;font-size:clamp(48px,8vw,88px);line-height:1.05;font-weight:800;letter-spacing:-0.04em}
    .hero .tagline{margin:12px 0 0;font-size:clamp(20px,2.4vw,26px);font-weight:600;color:var(--muted)}
    .hero .profile-short{margin:24px 0 0;font-size:17px;line-height:1.75;color:var(--muted);max-width:740px}

    .chips{display:flex;gap:12px;flex-wrap:wrap;margin-top:1.6rem}
    .chip{
      padding:10px 16px;border-radius:999px;background:var(--chip-bg);
      border:1px solid var(--line);font-size:13px;font-weight:700;
      display:flex;align-items:center;gap:8px;box-shadow:var(--shadow-1)
    }
    .chip::before{content:"";width:6px;height:6px;border-radius:50%;background:var(--accent)}

    /* Spotlight hover */
    [data-spotlight]{position:relative;overflow:hidden;--spot-opacity:0}
    [data-spotlight]::after{
      content:""; position:absolute; inset:-40%;
      background:radial-gradient(circle at var(--spot-x,50%) var(--spot-y,50%),
                 color-mix(in oklab, var(--accent) 12%, transparent), transparent 55%);
      opacity:var(--spot-opacity,0); transition:opacity .3s ease; pointer-events:none
    }

    /* ---------------------------
       Cards and Modules
    --------------------------- */
    .cta-area{padding:0 clamp(16px,4vw,48px);display:grid;gap:2.4rem}
    .cta-grid{display:grid;gap:24px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
    .cta-card,.module,.card,.feature-card,.highlight-card,.project-card{
      position:relative; border-radius:var(--radius-xl);
      background:var(--surface-1); border:1px solid var(--line);
      padding:32px; display:grid; gap:18px; box-shadow:var(--shadow-2)
    }
    .cta-card.hot{background:var(--gradient-hot)}
    .cta-card .cta-content{display:grid;gap:12px;position:relative;z-index:1}
    .cta-card span{font-size:12px;letter-spacing:.24em;text-transform:uppercase;color:var(--muted);font-weight:700}
    .cta-card strong{font-size:24px;font-weight:800;letter-spacing:-0.02em}
    .cta-card p{margin:0;color:var(--muted);font-size:16px;line-height:1.7}
    .cta-card svg.badge{position:absolute;inset:auto -36px -48px auto;width:200px;height:200px;opacity:.1;pointer-events:none}

    section{display:grid;gap:32px}
    .section-head{padding:0 clamp(16px,4vw,48px);display:flex;flex-direction:column;gap:12px}
    .section-title{padding:0 clamp(16px,4vw,48px);font-size:32px;font-weight:800;letter-spacing:-0.02em}

    .module h3{margin:0;font-size:26px;font-weight:800;letter-spacing:-0.02em}
    .module p{margin:0;color:var(--muted);line-height:1.8;font-size:16px}
    .mono{font-size:12px;letter-spacing:.24em;text-transform:uppercase;color:var(--muted);font-weight:800}

    .grid{padding:0 clamp(16px,4vw,48px);display:grid;gap:24px}
    .grid.cols-3{grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
    .grid.cols-2{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}

    .card h3{margin:0;font-size:22px;font-weight:800;letter-spacing:-0.01em}
    .card p{margin:0;color:var(--muted);line-height:1.7;font-size:15px}

    .button-row{padding:0 clamp(16px,4vw,48px);display:flex;flex-wrap:wrap;gap:12px;margin-top:6px}
    .btn{
      display:inline-flex;align-items:center;gap:8px;padding:12px 18px;border-radius:999px;
      border:1px solid var(--line);background:var(--surface-1);color:var(--fg);
      font-weight:800;font-size:15px;box-shadow:var(--shadow-1);transition:transform .18s ease, box-shadow .18s ease; outline:none
    }
    .btn:hover{transform:translateY(-1px)}
    .btn:focus-visible{box-shadow:var(--focus)}
    .btn.hot{background:var(--accent);border-color:var(--accent);color:#fff;box-shadow:0 18px 32px -26px color-mix(in oklab, var(--accent) 65%, transparent)}

    .anchor-links{padding:0 clamp(16px,4vw,48px);display:flex;flex-wrap:wrap;gap:18px;margin-top:12px;font-size:14px;color:var(--muted)}
    .anchor-links a{color:inherit}
    .anchor-links a:hover{color:var(--accent);text-decoration:none}

    .timeline{display:grid;gap:18px;padding-left:22px;border-left:1px solid var(--line);margin-top:12px}
    .t-item{position:relative;padding-left:4px}
    .t-item::before{content:"";position:absolute;left:-24px;top:8px;width:10px;height:10px;border-radius:50%;background:var(--accent);
      box-shadow:0 0 0 4px color-mix(in oklab, var(--accent) 22%, transparent)}

    footer{
      padding:48px clamp(16px,4vw,48px);text-align:center;color:var(--muted);font-size:14px;
      border-top:1px solid var(--line);background:color-mix(in oklab, var(--surface-1) 92%, transparent)
    }
    footer a{color:var(--accent);font-weight:700}
    footer a:hover{text-decoration:underline}

    /* 強コントラストユーザー向けの微調整 */
    @media (prefers-contrast: more){
      :root{ --line: color-mix(in oklab, var(--fg) 24%, transparent) }
      .links a{color:var(--fg)}
    }

    /* 透明度を抑える環境配慮 */
    @media (prefers-reduced-transparency: reduce){
      header{backdrop-filter:none; background:var(--surface-1)}
    }

    /* モバイル */
    @media (max-width:768px){
      nav{flex-direction:column;align-items:flex-start;gap:12px}
      .links{width:100%;justify-content:flex-start;gap:18px}
      .hero{padding-top:3.5rem}
      .cta-grid,.grid{grid-template-columns:1fr}
      .button-row{flex-direction:column;align-items:stretch}
      .button-row .btn{justify-content:center}
    }

    /* アニメ減 */
    @media (prefers-reduced-motion: reduce){
      *,*::before,*::after{
        animation-duration:.01ms !important; animation-iteration-count:1 !important;
        transition-duration:.01ms !important; scroll-behavior:auto !important;
      }
    }
  </style>
</head>
<body>
  <a class="skip" href="#top" style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden">スキップして本文へ</a>

  <header>
    <div class="wrap">
      <nav>
        <a class="brand" href="#top" aria-label="ORA Hyperwave home">
          <svg viewBox="0 0 128 128" role="img" aria-hidden="true">
            <defs>
              <linearGradient id="logo" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="#6ef3ff" />
                <stop offset="45%" stop-color="#7699ff" />
                <stop offset="100%" stop-color="#ff77ff" />
              </linearGradient>
            </defs>
            <rect width="128" height="128" rx="28" fill="#040616"></rect>
            <path d="M28 88c0-28 18-48 36-48s36 20 36 48h-18c0-18-10-28-18-28s-18 10-18 28z" fill="url(#logo)"></path>
          </svg>
          ORA Hyperwave
        </a>

        <div class="links" role="navigation" aria-label="Primary">
          <a href="#profile">Profile</a>
          <a href="#llm">LLM Stack</a>
          <a href="#swiftui">SwiftUI Lab</a>
          <a href="#vfx">VFX Library</a>
          <a href="#signal">Signal</a>
        </div>

        <div class="actions">
          <button class="theme-toggle" id="themeToggle" aria-live="polite" aria-label="テーマを切り替える">
            <svg id="themeIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                 stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <circle cx="12" cy="12" r="5"></circle>
              <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path>
            </svg>
            <span id="themeLabel">Auto</span>
          </button>
        </div>
      </nav>
    </div>
  </header>

  <main id="top">
    <section class="hero">
      <span class="hero-label">YoneRai12 | ORA Hyperwave</span>
      <h1>Realtime AI × VFX × SwiftUI</h1>
      <p class="tagline">未来都市のUIを今日に着陸させる</p>
      <p class="profile-short">RTX5080ローカル推論 MCP連携 Liquid SwiftUI VFXを束ねる実験室 ORA Hyperwave 最新のプロトタイプと映像をここに集約</p>
      <div class="chips">
        <span class="chip">RTX5080 Hybrid Cluster</span>
        <span class="chip">ORA MCP Agents</span>
        <span class="chip">Liquid SwiftUI Systems</span>
        <span class="chip">Procedural VFX Nodes</span>
        <span class="chip">Hyperstream Updates</span>
      </div>
    </section>

    <section class="cta-area">
      <div class="cta-grid">
        <a class="cta-card hot" data-spotlight href="https://xs413759.xsrv.jp" target="_blank" rel="noopener noreferrer">
          <svg class="badge" viewBox="0 0 128 128" aria-hidden="true">
            <defs>
              <linearGradient id="logo-card" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="#6ef3ff" />
                <stop offset="45%" stop-color="#7699ff" />
                <stop offset="100%" stop-color="#ff77ff" />
              </linearGradient>
            </defs>
            <rect width="128" height="128" rx="28" fill="#040616"></rect>
            <path d="M28 88c0-28 18-48 36-48s36 20 36 48h-18c0-18-10-28-18-28s-18 10-18 28z" fill="url(#logo-card)"></path>
          </svg>
          <div class="cta-content">
            <span>ENTER</span>
            <strong>Enter ORA Portal</strong>
            <p>都市型インターフェースの最新ビルドを試すハイパーリンク ライブVFXとMCPオペレーションを一気に体験</p>
          </div>
        </a>

        <a class="cta-card" data-spotlight href="https://discord.gg/MqWp8TFQwy" target="_blank" rel="noopener noreferrer">
          <svg class="badge" viewBox="0 0 128 128" aria-hidden="true">
            <use href="#logo"></use>
          </svg>
          <div class="cta-content">
            <span>CONNECT</span>
            <strong>Join Discord</strong>
            <p>開発ログとマテリアル共有を行うハイパーストリーム 日次レポートとライブコラボが行き交う中枢</p>
          </div>
        </a>
      </div>

      <div class="button-row">
        <a class="btn hot" data-spotlight href="https://github.com/YoneRai12" target="_blank" rel="noopener noreferrer">GitHub</a>
        <a class="btn" data-spotlight href="https://x.com/YoneRai12" target="_blank" rel="noopener noreferrer">X Hyperstream</a>
        <a class="btn" data-spotlight href="https://www.youtube.com/@YoneRai12" target="_blank" rel="noopener noreferrer">YouTube Showreel</a>
        <a class="btn" data-spotlight href="https://github.com/YoneRai12/ORA-Mobile" target="_blank" rel="noopener noreferrer">ORA Mobile Beta</a>
      </div>

      <div class="anchor-links" aria-label="セクションショートカット">
        <a href="#llm">– ORA LLM Stack</a>
        <a href="#swiftui">– Liquid SwiftUI Lab</a>
        <a href="#vfx">– VFX Nodes Library</a>
      </div>
    </section>

    <section id="profile" class="profile-section">
      <div class="wrap" style="padding:0 clamp(16px,4vw,48px)">
        <div class="module" data-spotlight>
          <span class="mono">PROFILE</span>
          <h3>未来都市UIを設計する研究開発ラボ</h3>
          <p class="profile-long">RTX5080のローカル推論とクラウドをハイブリッド接続 MCPでツール連携 Liquid SwiftUIとVFXで未来都市のUIを設計するラボ ORA Hyperwave プロトタイプを最短距離で公開し DiscordとXのハイパーストリームで日次更新 GitHubでコードを開き Webポータルで体験を触ってほしい</p>
        </div>
      </div>
    </section>

    <section id="llm">
      <div class="section-title">ORA LLM Stack</div>
      <div class="module" data-spotlight>
        <span class="mono">CORE PIPELINE</span>
        <h3>RTX5080 ローカル推論 × MCP オーケストレーション</h3>
        <p>GPUローカルクラスタとクラウドノードを束ね マルチエージェントMCPがVFXツールやSwiftUIプロジェクトを横断制御 Hyperstream Telemetryが秒単位で稼働ログを収集し プロトタイプを即日で公開</p>
      </div>
      <div class="grid cols-3">
        <article class="card" data-spotlight>
          <span class="mono">HARDWARE</span>
          <h3>Hybrid Compute Bank</h3>
          <p>RTX5080ノードとクラウドGPUを負荷に応じて切り替え 推論とレンダリングを同一タイムラインで同期</p>
        </article>
        <article class="card" data-spotlight>
          <span class="mono">AGENTS</span>
          <h3>MCP Control Mesh</h3>
          <p>Multi-Agent Control Protocolを基盤にしたワークフロー チャットとジェスチャでシーン構築からコード発行まで連結</p>
        </article>
        <article class="card" data-spotlight>
          <span class="mono">TELEMETRY</span>
          <h3>Hyperstream Analytics</h3>
          <p>日次で稼働メトリクスをログ化しPVとCTRを解析 反響の高いユニットをトップへ再配置する運用フロー</p>
        </article>
      </div>
    </section>

    <section id="swiftui">
      <div class="section-title">Liquid SwiftUI Lab</div>
      <div class="grid cols-2">
        <article class="module" data-spotlight>
          <span class="mono">LIQUID DESIGN</span>
          <h3>触れると揺らぐダイナミックコンポーネント</h3>
          <p>Metal Shader GraphとSwiftUI Custom Layoutの組み合わせで液体インタラクションを実装 Vision ProとiOSとmacOSを横断</p>
        </article>
        <article class="module" data-spotlight>
          <span class="mono">MULTI PLATFORM</span>
          <h3>Liquid Glass UI クライアント</h3>
          <p>ORA Mobile Betaがマルチデバイス連携を提供 TestFlightとGitHubビルドで日次のUI改良を同期しHyperwave Portalと連結</p>
        </article>
      </div>
      <div class="grid cols-3">
        <article class="card" data-spotlight>
          <span class="mono">MATERIAL</span>
          <h3>Dynamic Color Fields</h3>
          <p>環境光とユースケースに応じてシェーダーを再構成 Liquid SwiftUIのテーマを自動調整</p>
        </article>
        <article class="card" data-spotlight>
          <span class="mono">PROTOTYPING</span>
          <h3>Zero-Delay Deploy</h3>
          <p>GitHub ActionsとFastlaneで新しいUIフローを即時反映 ループの短いフィードバックで品質を底上げ</p>
        </article>
        <article class="card" data-spotlight>
          <span class="mono">COLLAB</span>
          <h3>LLM Assisted Design</h3>
          <p>LLMがSwiftUIコードとアセットを下書き ラボメンバーがリファインしてプロトタイプを高速化</p>
        </article>
      </div>
    </section>

    <section id="vfx">
      <div class="section-title">VFX Nodes Library</div>
      <div class="wrap" style="padding:0 clamp(16px,4vw,48px)">
        <div class="module" data-spotlight>
          <span class="mono">PROCEDURAL BANK</span>
          <h3>ノード合成で生まれる都市型エフェクト</h3>
          <p>Blenderと独自ノードを組み合わせたプラズマ 霧 爆発プリセット MCPエージェントがパラメータを調整しWebGLに即時エクスポート</p>
        </div>
      </div>
      <div class="grid cols-3">
        <article class="card" data-spotlight>
          <span class="mono">BURST</span>
          <h3>Procedural Shockwaves</h3>
          <p>リズム解析で波形を生成しUIと同期した衝撃波を描画 都市の光脈を可視化</p>
        </article>
        <article class="card" data-spotlight>
          <span class="mono">FOG</span>
          <h3>Volumetric Streets</h3>
          <p>空間に浮かぶ微細な粒子をWebGLで再現 Future Cityの視界を柔らかく演出</p>
        </article>
        <article class="card" data-spotlight>
          <span class="mono">PORTAL</span>
          <h3>Hyperwave Gateway</h3>
          <p>VFXノードをUIトランジションに変換 ポータル遷移を視覚化して没入感を高める</p>
        </article>
      </div>
    </section>

    <section id="signal">
      <div class="section-title">Signal Log & Ops</div>
      <div class="grid cols-2">
        <article class="card" data-spotlight>
          <h3>運用ルール</h3>
          <p>週1でPVとクリック率をモニタリングし高CTRの2件を上段に固定 低CTRリンクは文言短縮または下段へ移動 隔週でショーリール更新とサムネ統一 月次でGitHub Pagesと文言を同期</p>
        </article>
        <article class="card" data-spotlight>
          <h3>ミッション</h3>
          <p>Hyperwaveの目的は未来を先取りして触れている感覚を届けること ビジュアルと技術を融合し実験的な体験を即座に公開</p>
        </article>
      </div>
      <div class="grid cols-2" style="margin-top:18px">
        <article class="card" data-spotlight>
          <h3>アクセスチャネル</h3>
          <p>GitHub Discord X Hyperstreamで最新のレンダリング結果やAIツールチェーンを配信 ラボの各種プロトタイプを即座に体験</p>
        </article>
        <article class="card" data-spotlight>
          <h3>アップデート</h3>
          <div class="timeline" aria-label="Latest signals">
            <div class="t-item">
              <h4>2024.06 · Liquid SwiftUI Beta</h4>
              <p>物理ベースのマテリアルシステムを実装 ライブデータの視覚化を実現しVision Pro UIへ反映</p>
            </div>
            <div class="t-item">
              <h4>2024.05 · MCP Hyper Agents</h4>
              <p>LLMエージェントがVFXノードとBlenderを操作 自動シーン生成とWeb用アセット最適化</p>
            </div>
            <div class="t-item">
              <h4>2024.04 · Hyperstream Infra</h4>
              <p>低遅延ストリーミング基盤を構築 GPUレンダリング過程をライブ共有し即応</p>
            </div>
          </div>
        </article>
      </div>
    </section>
  </main>

  <footer>
    © <span id="year"></span> YoneRai12 · Hyperwave on GitHub Pages ·
    <a href="https://xs413759.xsrv.jp" target="_blank" rel="noopener noreferrer">Enter ORA</a>
  </footer>

  <script>
    // 年表示
    document.getElementById('year').textContent = new Date().getFullYear();

    // ヒーローのコピー切替
    const heroHeading = document.querySelector('.hero h1');
    const heroTagline = document.querySelector('.hero .tagline');
    const phrases = [
      {title:'Realtime AI × VFX × SwiftUI', tagline:'未来都市のUIを今日に着陸させる'},
      {title:'RTX5080 Hyperlocal Compute', tagline:'秒単位で更新する LLM × MCP ワークフロー'},
      {title:'Liquid SwiftUI Systems', tagline:'触れるたびに揺らぐダイナミックコンポーネント'},
      {title:'ORA Hyperwave Portal', tagline:'都市型インターフェースをライブで公開'},
      {title:'Hyperstream Operations', tagline:'高CTRユニットを最前面に再配置する運用'}
    ];
    if(heroHeading && heroTagline){
      let i = 0;
      setInterval(()=>{
        i = (i + 1) % phrases.length;
        heroHeading.style.opacity = 0;
        heroTagline.style.opacity = 0;
        setTimeout(()=>{
          heroHeading.textContent = phrases[i].title;
          heroTagline.textContent = phrases[i].tagline;
          heroHeading.style.opacity = 1;
          heroTagline.style.opacity = 1;
        }, 220);
      }, 5200);
    }

    // Spotlight hover
    const interactiveSelector = '[data-spotlight]';
    const interactiveEls = document.querySelectorAll(interactiveSelector);
    const isCoarse = matchMedia('(pointer: coarse)').matches;

    if(interactiveEls.length && !isCoarse){
      let active = null, frame = null;
      const setSpot = (el, e)=>{
        const r = el.getBoundingClientRect();
        const x = (e?.clientX ?? r.left + r.width/2) - r.left;
        const y = (e?.clientY ?? r.top + r.height/2) - r.top;
        el.style.setProperty('--spot-x', `${x}px`);
        el.style.setProperty('--spot-y', `${y}px`);
        el.style.setProperty('--spot-opacity', '1');
      };
      const clearSpot = (el)=>{ el?.style.setProperty('--spot-opacity','0') };
      const raf = (el, e)=>{
        if(frame) cancelAnimationFrame(frame);
        frame = requestAnimationFrame(()=>{ frame=null; setSpot(el, e) });
      };
      const onMove = e => active && raf(active, e);
      const onOver = e => { const t = e.target.closest(interactiveSelector); if(!t) return; if(active && active!==t) clearSpot(active); active=t; raf(active,e) };
      const onOut  = e => { const t = e.target.closest(interactiveSelector); if(!t) return; if(active===t){ clearSpot(t); active=null } };
      document.addEventListener('pointermove', onMove);
      document.addEventListener('pointerover', onOver);
      document.addEventListener('pointerout', onOut);
    }

    // Theme toggle: Auto -> Light -> Dark -> Auto
    const root = document.documentElement;
    const toggleBtn = document.getElementById('themeToggle');
    const icon = document.getElementById('themeIcon');
    const label = document.getElementById('themeLabel');

    const applyTheme = (mode)=>{
      // mode: 'auto' | 'light' | 'dark'
      localStorage.setItem('ora-theme', mode);
      root.setAttribute('data-theme', mode);
      if(mode==='auto'){
        label.textContent = 'Auto';
        // アイコンを太陽月のハイブリッド風
        icon.innerHTML = '<circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path>';
      }else if(mode==='light'){
        label.textContent = 'Light';
        icon.innerHTML = '<circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path>';
      }else{
        label.textContent = 'Dark';
        icon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>';
      }
    };

    const nextTheme = (cur)=>{
      if(cur==='auto') return 'light';
      if(cur==='light') return 'dark';
      return 'auto';
    };

    const initTheme = ()=>{
      const saved = localStorage.getItem('ora-theme') || 'auto';
      applyTheme(saved);
    };
    initTheme();

    toggleBtn.addEventListener('click', ()=>{
      const cur = localStorage.getItem('ora-theme') || 'auto';
      const next = nextTheme(cur);
      applyTheme(next);
    });

    // AutoのときはOSテーマ変化に追従
    matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e=>{
      if((localStorage.getItem('ora-theme')||'auto')==='auto'){
        applyTheme('auto');
      }
    });
  </script>
</body>
</html>
